# –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ —Å AI-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è–º–∏, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –ø–æ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –ø–ª–∞–Ω—É.

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ú® **–ù–∞—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã** —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é NASA JPL ephemeris
- üåô **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≥–æ—Ä–æ—Å–∫–æ–ø—ã** –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞
- ‚ù§Ô∏è **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** (—Å–∏–Ω–∞—Å—Ç—Ä–∏—è)
- üìà **–¢—Ä–∞–Ω–∑–∏—Ç—ã** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (Premium)
- ü§ñ **AI-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏** –Ω–∞ –±–∞–∑–µ GPT-4
- üí≥ **Freemium –º–æ–¥–µ–ª—å** —Å Stripe –ø–ª–∞—Ç–µ–∂–∞–º–∏

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend
- **Next.js 14** —Å TypeScript
- **Tailwind CSS** + shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **NextAuth.js v5** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Stripe** –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

### Backend
- **FastAPI** (Python 3.11+)
- **PostgreSQL** —Å SQLAlchemy ORM
- **Kerykeion** –¥–ª—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
- **OpenAI GPT-4** –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π
- **Redis** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
astrology/
‚îú‚îÄ‚îÄ frontend/           # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/           # App Router
‚îÇ   ‚îú‚îÄ‚îÄ components/    # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ lib/          # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ backend/           # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/      # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/   # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/  # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/ # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ alembic/      # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îî‚îÄ‚îÄ docs/             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Docker Desktop** 20.10+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ò–ª–∏: Node.js 18+, Python 3.11+, PostgreSQL 14+, Redis

### –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd astrology

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å development –æ–∫—Ä—É–∂–µ–Ω–∏–µ
make dev

# –ò–ª–∏ –Ω–∞ Windows:
.\scripts\dev-start.ps1

# –ì–æ—Ç–æ–≤–æ! üéâ
# Frontend: http://localhost:3000
# Backend: http://localhost:8000
# API Docs: http://localhost:8000/docs
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [QUICKSTART.md](QUICKSTART.md)

### –ë–µ–∑ Docker (—Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)

<details>
<summary>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</summary>

#### Backend

```bash
cd backend

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
uvicorn app.main:app --reload --port 8000
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:8000`
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://localhost:8000/docs`

#### Frontend

```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env.local
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env.local

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:3000`

</details>

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
cd backend
alembic revision --autogenerate -m "Description"
alembic upgrade head
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏

- **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
- **NatalChart** - –Ω–∞—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã
- **Subscription** - –∏—Å—Ç–æ—Ä–∏—è –ø–æ–¥–ø–∏—Å–æ–∫
- **HoroscopeCache** - –∫—ç—à –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤

## üîë API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/v1/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/v1/auth/login` - –í—Ö–æ–¥
- `GET /api/v1/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ù–∞—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã
- `POST /api/v1/charts` - –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É
- `GET /api/v1/charts` - –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç
- `GET /api/v1/charts/{id}` - –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É
- `DELETE /api/v1/charts/{id}` - –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É
- `POST /api/v1/charts/{id}/transits` - –¢—Ä–∞–Ω–∑–∏—Ç—ã (Premium)

### –ì–æ—Ä–æ—Å–∫–æ–ø—ã
- `GET /api/v1/horoscopes/daily` - –î–Ω–µ–≤–Ω–æ–π –≥–æ—Ä–æ—Å–∫–æ–ø
- `GET /api/v1/horoscopes/all-signs` - –í—Å–µ –∑–Ω–∞–∫–∏

## üíé –£—Ä–æ–≤–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏

### Free
- 1 –Ω–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≥–æ—Ä–æ—Å–∫–æ–ø—ã –ø–æ –∑–Ω–∞–∫—É –°–æ–ª–Ω—Ü–∞
- –ë–∞–∑–æ–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –®–∞–±–ª–æ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏

### Basic ($9.99/–º–µ—Å)
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- Weekly/monthly –ø—Ä–æ–≥–Ω–æ–∑—ã
- 10 AI-—á—Ç–µ–Ω–∏–π/–º–µ—Å—è—Ü
- –ë–µ–∑ —Ä–µ–∫–ª–∞–º—ã

### Premium ($14.99/–º–µ—Å) ‚≠ê
- –í—Å—ë –∏–∑ Basic +
- –¢—Ä–∞–Ω–∑–∏—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- Unlimited AI-—á—Ç–µ–Ω–∏—è (GPT-4)
- –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –∏ –¥–∏—Ä–µ–∫—Ü–∏–∏
- Solar return –∫–∞—Ä—Ç—ã
- API access

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### Backend (.env)
```env
DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/astrology
SECRET_KEY=your-secret-key
STRIPE_SECRET_KEY=sk_test_...
OPENAI_API_KEY=sk-...
REDIS_URL=redis://localhost:6379
```

#### Frontend (.env.local)
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
NEXTAUTH_SECRET=your-secret
NEXTAUTH_URL=http://localhost:3000
```

## üê≥ Docker –∫–æ–º–∞–Ω–¥—ã

### Development

```bash
make dev          # –ó–∞–ø—É—Å—Ç–∏—Ç—å dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ
make dev-down     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ
make dev-logs     # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```

### Production

```bash
make prod         # –ó–∞–ø—É—Å—Ç–∏—Ç—å production
make prod-build   # –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
make prod-deploy  # –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (pull, build, migrate)
```

### Database

```bash
make migrate            # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make migrate-create     # –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
make backup             # –°–æ–∑–¥–∞—Ç—å backup –ë–î
make restore file=...   # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup
make db-shell           # PostgreSQL shell
```

### Utility

```bash
make logs         # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make health       # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤
make stats        # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É Docker
make clean        # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, volumes, images)
make help         # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
```

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å production .env
cp .env.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

# 2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å
make prod-deploy

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
make ssl-setup domain=your-domain.com
```

**–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ**: [DEPLOYMENT.md](DEPLOYMENT.md)

### Cloud –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

#### Backend (Railway/Render)
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤–∏—Ç—å PostgreSQL addon
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å environment variables
4. Deploy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### Frontend (Vercel/Netlify)
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å environment variables
3. Deploy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### VPS/Dedicated Server

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git clone <repository-url>
cd astrology
cp .env.example .env
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
make prod-deploy
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ [DEPLOYMENT.md](DEPLOYMENT.md)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- **Kerykeion** (AGPL-3.0) - –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏—Ü–µ–Ω–∑–∏—è ‚Ç¨750
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API —Å–µ—Ä–≤–∏—Å—ã (Prokerala, FreeAstrologyAPI)

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: [—Å–æ–∑–¥–∞–π—Ç–µ issue](../../issues)

---

üåü –°–æ–∑–¥–∞–Ω–æ –ø–æ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –ø–ª–∞–Ω—É –∏–∑ `compass_artifact_wf-*.md`
